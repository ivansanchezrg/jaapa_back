spring.application.name=jaapa_back

# =============================================================================
# = CONEXIÓN A BASE DE DATOS POSTGRESQL
# =============================================================================
spring.datasource.url=jdbc:postgresql://localhost:5432/jaapa_db
spring.datasource.username=jaapa_db
spring.datasource.password=123
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================================================================
# = CONFIGURACIÓN JPA / HIBERNATE
# =============================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.generate-ddl=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# =============================================================================
# = LOGGING
# =============================================================================
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace
logging.level.com.zaxxer.hikari=WARN
logging.level.org.springframework.boot.autoconfigure.jdbc=WARN

# =============================================================================
# = MULTIPART (SUBIDA DE ARCHIVOS)
# =============================================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ==============================================================
# CONFIGURACIÓN DEL SISTEMA DE LOGGING
# ==============================================================

# Nivel de log general para toda la aplicación
# Opciones: ERROR, WARN, INFO, DEBUG, TRACE
# Se recomienda INFO para producción y DEBUG para desarrollo
logging.level.root=INFO

# Nivel de log específico para paquetes de tu aplicación
# Permite mayor detalle en tu código sin afectar bibliotecas externas
logging.level.com.tuempresa.app=DEBUG

# Niveles para Spring Framework (opcional)
# Reduce verbosidad de Spring en la consola
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN

# Configuración del archivo de log
# Nombre y ubicación del archivo de log
logging.file.name=./logs/application.log
# Tamaño máximo antes de rotar el archivo
logging.file.max-size=10MB
# Número de archivos históricos a mantener
logging.file.max-history=10

# Patrón para el formato de los mensajes de log
# Incluye: fecha/hora, nivel, thread, clase y mensaje
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Ajustes adicionales para entornos específicos (comentados por defecto)
# Descomenta según necesidad
# logging.level.org.springframework.web=DEBUG # Para depurar problemas de MVC
# logging.level.org.springframework.security=DEBUG # Para problemas de seguridad
# logging.level.org.springframework.data=DEBUG # Para problemas con JPA/repositorios

# ==============================================================
# CONFIGURACIÓN DE CORS
# ==============================================================
cors.allowed-origins=http://localhost:4200
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
cors.allowed-headers=*
cors.max-age=3600
#app.cors.allowed-origins=http://localhost:4200,https://tu-produccion.com

# Configuración de base path para todos los controllers
server.servlet.context-path=/api

# Clave secreta JWT utilizada para firmar y verificar tokens.
# IMPORTANTE: Cambiar en producción y mantener segura
jwt.secret=413F4428472B4B6250655368566D5970337336763979244226452948404D6351


# Tiempo de expiración del token JWT en milisegundos
# 21600000 = 6 horas
jwt.expiration-time=21600000

# ==============================================================
# Configuracion de correo
# ==============================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
#spring.mail.port=465
#spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.username=ivansanchezrg@gmail.com
spring.mail.password=qpwd macw wavu gpqr
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2
# Correo remitente
mail.from=ivansanchezrg@gmail.com
#Guardar la solicitudes
app.storage.path=documentos/pdfs